영속성 컨텍스트의 변경내용을 데이터베이스에 반영하는 것

### 역할

변경 감지 

수정된 엔티티 쓰기 지연 SQL 저장소에 등록 

쓰기 지연 SQL 저장소의 쿼리를 데이터베이스에 전송 (등록, 수정, 삭제 쿼리)

### 방법

em.flush() - 직접 호출 

트랜잭션 커밋 - 플러시 자동 호출 

JPQL 쿼리 실행 - 플러시 자동 호출

### 기능

transaction.commit 을 호출하기 전에 강제로 쿼리문을 날리는 것 

flush는 변경 등의 데이터 변화를 감지하고 데이터 베이스에 변경 내용을 저장하는 과정 

---

### 준영속 상태

영속 상태의 엔티티가 영속성 컨텍스트에서 분리(detached)

영속성 컨텍스트가 제공하는 기능을 사용 못함(update나 flush 등등 영속성 컨텍스트가 제공하는 기능을 사용하지 못함)

### 방법

em.detach(entity) : 특정 엔티티만 준영속 상태로 전환 

em.clear() : 영속성 컨텍스트를 완전히 초기화 

em.close() : 영속성 컨텍스트를 종료

### 기능 

em.detach(entity) 를 실행한다면 앞으로 JPA는 해당 엔티티를 관리하지 않고 떼어 놓는다

tx.commit이 실행되지 않는다.
