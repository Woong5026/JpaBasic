객체는 컬렉션을 사용해서 객체 2개로 다대다 관계를 만들 수 있다. 

그런데 관계형 데이터베이스는 정규화된 테이블 2개로 다대다 관계를 표현할 수 없다. <br/>
그래서 보통 다대다 관계를 일대다, 다대일 관계로 풀어내는 연결 테이블을 사용한다.

매핑은 @ManytoMany와 @JoinTable을 사용한다. <br/>
@JoinTable을 사용하면 데이터베이스 상에 연결 테이블을 추가한다. 이 역시 단방향, 양방향 모두 가능하다.

그러나 @ManytoMany는 보통 실무에서 사용하지 않는다. 연결 테이블이 단순히 연결만 하고 끝나지 않기 때문이다. <br/>
예를 들어, 회원과 상품의 다대다 매핑일 때, 회원이 상품을 주문하면 연결 테이블에 단순히 주문한 회원 아이디와 상품 아이디만 담고 끝나지 않는다. <br/>
보통은 연결 테이블에 주문 수량 컬럼이나 주문한 날짜 같은 컬럼이 더 필요하다.

<br/>

![image](https://user-images.githubusercontent.com/78454649/193451272-a3ecaba7-aa17-4b3e-8bcb-e0d3b4fd77f4.png)

그래서 다음과 같이 연결 엔티티를 만들고 이곳에 추가한 컬럼들을 매핑한다. 이를 통해 다대다 매핑을 일대다, 다대일 관계로 나눌 수 있다.

<br/>

![image](https://user-images.githubusercontent.com/78454649/193451282-2d8cc87c-8dd0-4df2-a2e0-c3f517cdc61c.png)

연결 테이블에서 멤버, 상품의 FK를 PK로 사용하는 방법이 있지만 다음과 같이 새로운 기본 키를 사용하는 방법도 있다. <br/>
이 방법의 장점은 복합 키를 만들지 않아도 되어 간편하고 거의 영구히 쓸 수 있으며 비즈니스에 의존하지 않는다.

![image](https://user-images.githubusercontent.com/78454649/193451295-92071683-0b79-4f9c-96c8-2c34d817456c.png)

